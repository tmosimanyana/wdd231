<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Kweneng Agriculture Chamber of Commerce</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="crossorigin">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/course.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css">
</head>

<body>
    <header>
        <img src="logo.png" alt="Kweneng Agriculture Chamber of Commerce Logo" class="logo">
        <nav>
            <span><a href="index.html">Home</a></span>
            <span><a href="join.html">Join</a></span>
            <span><a href="discover.html">Discover</a></span>
            <span><a href="about.html">About Us</a></span>
            <span><a href="contact.html">Contact</a></span>
        </nav>
    </header>

    <main class="page">
        <section id="hero">
            <img src="hero-image.webp" alt="Agriculture Hero Image" class="hero-image">
            <a href="join.html" class="call-to-action">Join the Chamber of Commerce</a>
        </section>

        <section id="current-events">
            <h2>Current Events</h2>
            <div id="events-list">
                <!-- Current events will be dynamically populated here -->
            </div>
        </section>

        <section id="weather">
            <h2>Weather Update</h2>
            <div id="weather-data">
                <!-- Weather data will be dynamically populated here -->
            </div>
        </section>

        <section id="company-spotlights">
            <h2>Company Spotlights</h2>
            <div id="spotlights-list">
                <!-- Company spotlights will be dynamically populated here -->
            </div>
        </section>
    </main>

    <footer>
        <p>© 2024 Kweneng Agriculture Chamber of Commerce. All rights reserved.</p>
        <p>Contact: <a href="mailto:mbothepha@gmail.com">mbothepha@gmail.com</a></p>
    </footer>

    <div class="callout info">
        <p style="margin: 0;">Don't forget to <strong>bookmark</strong> this page in your browser!</p>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
        
        // JavaScript for fetching weather data and displaying company spotlights
        async function fetchWeatherData() {
            const response = await fetch('https://api.openweathermap.org/data/2.5/weather?q=Molepolole,Botswana&appid=YOUR_API_KEY&units=metric');
            const data = await response.json();
            displayWeather(data);
        }

        function displayWeather(data) {
            const weatherData = `
                <p>Current Temperature: ${Math.round(data.main.temp)}°C</p>
                <p>Weather: ${data.weather.map(w => w.description.charAt(0).toUpperCase() + w.description.slice(1)).join(", ")}</p>
            `;
            document.getElementById('weather-data').innerHTML = weatherData;
        }

        async function fetchSpotlights() {
            const response = await fetch('path/to/your/json/data.json'); // Update with your JSON source
            const data = await response.json();
            displaySpotlights(data);
        }

        function displaySpotlights(members) {
            const spotlights = members.filter(member => member.membershipLevel === 'Silver' || member.membershipLevel === 'Gold');
            const randomSpotlights = spotlights.sort(() => 0.5 - Math.random()).slice(0, 3);
            const spotlightsHtml = randomSpotlights.map(member => `
                <div class="spotlight">
                    <h3>${member.companyName}</h3>
                    <img src="${member.logo}" alt="${member.companyName} Logo">
                    <p>Phone: ${member.phone}</p>
                    <p>Address: ${member.address}</p>
                    <p><a href="${member.website}">Visit Website</a></p>
                    <p>Membership Level: ${member.membershipLevel}</p>
                </div>
            `).join('');
            document.getElementById('spotlights-list').innerHTML = spotlightsHtml;
        }

        // Fetch data on page load
        fetchWeatherData();
        fetchSpotlights();
    </script>
</body>

</html>
