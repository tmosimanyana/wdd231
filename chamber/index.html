<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Kweneng Agriculture Chamber of Commerce - Connecting Businesses and Promoting Agriculture in Kweneng region.">
    <meta name="author" content="Tinny Bothepha Mosimanyana">
    <title>Kweneng Agriculture Chamber of Commerce</title>
    <!-- Include Normalize CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">
    <!-- Your custom CSS file -->
    <link rel="stylesheet" href="styles.css"> 
</head>
<body>
    <header>
        <nav>
            <a href="index.html">Home</a>
            <a href="directory.html">Directory</a>
            <a href="join.html">Join</a>
            <a href="discover.html">Discover</a>
        </nav>
    </header>
    <main>
        <h1>Welcome to the Kweneng Agriculture Chamber of Commerce</h1>
        <img src="images/logo.webp" alt="Kweneng Agriculture Chamber of Commerce Logo" width="200">
        
        <section class="hero">
            <img src="images/hero.webp" alt="Hero Image" class="hero-image">
            <a href="join.html" class="cta-button">Join the Chamber of Commerce</a>
        </section>

        <section class="current-events">
            <h2>Current Events</h2>
            <p>Stay tuned for updates on upcoming events in the Kweneng region!</p>
        </section>

        <section class="weather">
            <h2>Weather</h2>
            <div id="weather-data">
                <!-- Weather data will be populated here via JavaScript -->
            </div>
        </section>

        <section class="spotlights">
            <h2>Spotlight Members</h2>
            <div class="member-spotlights" id="member-spotlights">
                <!-- Spotlight members will be populated here via JavaScript -->
            </div>
        </section>
    </main>

    <aside>
        <h2>Botswana</h2>
        <img src="images/botswana.webp" alt="Botswana landscape" width="200" height="auto">
        <p>Botswana is a landlocked country in Southern Africa, known for its stable democracy, diverse wildlife, and beautiful landscapes.</p>
    </aside>

    <footer>
        <p>Contact: info@kwenengchamber.org | Phone: +267 123 4567</p>
        <p>© <span id="current-year"></span> Tinny Bothepha Mosimanyana | WDD 231 | Last Modified: <span id="last-modified"></span></p>
    </footer>

    <script>
        // Update the current year and last modified date
        document.getElementById('current-year').textContent = new Date().getFullYear();
        document.getElementById('last-modified').textContent = document.lastModified;

        // Fetch weather data and member spotlight data
        async function fetchWeatherData() {
            const apiKey = 'YOUR_OPENWEATHERMAP_API_KEY'; // Replace with your API key
            const city = 'Gaborone,Botswana';
            const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`);
            const data = await response.json();

            const temperature = Math.round(data.main.temp);
            const description = data.weather[0].description.split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');
            document.getElementById('weather-data').innerHTML = `
                <p>Current Temperature: ${temperature}°C</p>
                <p>Weather: ${description}</p>
            `;
        }

        async function fetchSpotlightMembers() {
            const response = await fetch('data/members.json');
            const members = await response.json();
            const spotlights = members.filter(member => member.membershipLevel > 1); // Silver and Gold members
            const selectedSpotlights = spotlights.sort(() => 0.5 - Math.random()).slice(0, 3); // Random selection

            const spotlightContainer = document.getElementById('member-spotlights');
            selectedSpotlights.forEach(member => {
                spotlightContainer.innerHTML += `
                    <div class="member-card">
                        <img src="${member.image}" alt="${member.name} logo" width="100">
                        <h3>${member.name}</h3>
                        <p>${member.phone}</p>
                        <p>${member.address}</p>
                        <a href="${member.website}" target="_blank">Visit Website</a>
                        <p>Membership Level: ${member.membershipLevel === 2 ? 'Silver' : 'Gold'}</p>
                    </div>
                `;
            });
        }

        fetchWeatherData();
        fetchSpotlightMembers();
    </script>
</body>
</html>
